# 화내지마 자기야 프론트엔드

이 프로젝트는 Vue.js 3를 사용하여 구축된 "화내지마 자기야" 메신저 애플리케이션의 프론트엔드 개발버전입니다.

## 프로젝트 설정

1. 프로젝트를 클론합니다:
   ```
   git clone https://github.com/YoonMooYeol/HOT6_project_02.git
   ```
   
2. 프로젝트 디렉토리로 이동합니다:
   ```
   cd hot6_pjt_ft
   ```

3. 필요한 패키지를 설치합니다:
   ```
   npm install
   ```

4. 개발 서버를 시작합니다:
   ```
   npm run dev
   ```

## 주요 기능

- 실시간 채팅: 사용자는 실시간으로 메시지를 주고받을 수 있습니다.
- 다정모드: 다정모드를 활성화하면 채팅 배경색이 변경되고, 상대방의 메시지가 다정하게 변경됩니다. 
- 채팅내용도 음성으로 재생됩니다.
- 사용자 인증: 사용자는 회원가입 및 로그인을 통해 인증할 수 있습니다.
- 사용자 목록: 모든 사용자 목록을 확인할 수 있습니다.
- 사용자 상세 정보: 사용자의 상세 정보를 확인할 수 있습니다.

## 채택한 개발 기술과 브랜치 전략

### Vue.js 3
- Vue.js 3는 최신 버전의 Vue.js로, 컴포넌트 기반 아키텍처를 통해 효율적인 UI 관리 및 코드 재사용을 고려하였습니다.
- 반응형 데이터 바인딩과 가상 DOM을 활용하여 빠른 렌더링 및 향상된 사용자 경험을 제공합니다.

### Vue Router
- Vue Router는 SPA 전용 라우터로, URL과 컴포넌트 간의 명확한 매핑을 지원합니다.
- 동적 라우팅 및 네스트 라우터를 활용하여 복잡한 UI 흐름을 손쉽게 관리할 수 있습니다.

### Vite
- Vite는 최신 모듈 번들러로, 빠른 개발 서버 실행과 최적화된 빌드 시간을 자랑합니다.
- 효율적인 핫 모듈 교체(HMR) 기능을 통해 개발 생산성을 극대화합니다.

### tailwindcss
- 최신 CSS 기법과 미디어 쿼리를 활용하여 다양한 디바이스에서 최적의 레이아웃을 유지합니다.

### Pictogrammers
- Pictogrammers 라이브러리는 다양한 아이콘 세트를 제공하여 UI의 시각적 완성도를 높입니다.
- 일관된 아이콘 스타일을 통해 사용자 인터페이스의 직관성과 접근성을 개선합니다.

## 브랜치 전략

- Git workflow를 기반으로 다음과 같이 브랜치 전략을 설정하였습니다.
    - **main**: 안정적인 배포를 위한 최종 브랜치입니다.
    - **develop**: 모든 기능이 통합되고 테스트되는 개발 브랜치입니다.
    - **feature**: 각 기능 개발을 위해 별도로 생성된 브랜치로, 기능 완료 후 `develop` 브랜치로 병합됩니다.

## 트러블슈팅


### 1. 청크 임베딩 성능 문제  
- **문제점**: 정리되지 않은 청크 50,000개 작업 시 40분 소요.  
- **해결책**:   
  - 비동기 작업으로 전환하여 성능 개선.  
  - 동시 처리 수를 5개로 제한하고, 각 요청 사이에 100ms 대기시간 추가.  
  - 성능이 좋은 임베딩 모델인 `text-embedding-3-small`로 변경하여 10분으로 성능 향상 (약 400%).  

### 2. 데이터베이스 저장 이슈  
- **문제점**: 임베딩 후 데이터베이스 저장 시 에러 발생 시 데이터 손실.  
- **해결책**:   
  - Chroma DB에 저장할 때 한 번에 저장되는 크기를 5,461개로 제한.  
  - 5,000개 단위로 끊어서 저장 후 새로운 5,000개 저장.  

### 3. 프론트엔드와 백엔드 통신 문제  
- **문제점**: CORS 에러 발생.  
- **해결책**: 기획 단계에서 엔드포인트를 명확히 정의하고, 프론트엔드와 백엔드의 역할 및 데이터베이스 구조를 충분히 논의해야 함.  

### 4. Git 관리 및 협업 문제  
- **문제점**: GitHub workflow 이해 부족으로 인한 프로젝트 중간의 충돌 및 오류 발생.  
- **해결책**: 필요한 Git 명령어를 학습하고, 프로젝트 시작 전에 충분한 회의와 기획이 필요.  

### 5. 프론트엔드 최적화  
- **문제점**: 최소한의 데이터로 최대 효과를 내지 못함.  
- **해결책**: 서버에서 해결할 수 있는 문제는 회의를 통해 해결하고, 디자인은 기능 구현 후 최종 단계에서 진행해야 함.  

### 6. 채팅방 상태 관리 문제  
- **문제점**: 채팅방 상태 정보가 전역변수로 선언되어 있어, 채팅방을 나가도 상태가 유지됨.  
- **해결책**: 채팅방을 나가면 언마운트 시 false 값을 주어 메모리 할당을 하지 않도록 수정.  

### 7. 웜모드 관련 문제  
- **문제점**: 웜모드 변경 시 유저의 데이터베이스만 변동되고, 모든 유저의 채팅창에 활성화되지 않음.  
- **해결책**: 웜모드 옵션 선택 전까지 백엔드 데이터베이스에 값이 저장되지 않도록 변경.  

### 결론  
- 프로젝트 진행 중 발생하는 다양한 문제를 해결하기 위해서는 기획 단계에서부터 충분한 논의와 협력이 필요하며, 각 단계별로 명확한 역할 분담과 데이터 관리가 중요하다.

